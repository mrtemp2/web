function setAjaxData(e=null){var t={sysLangId:VrConfig.sysLangId};return t[VrConfig.csrfTokenName]=$('meta[name="X-CSRF-TOKEN"]').attr("content"),null!=e&&Object.assign(t,e),t}function setSerializedData(e){return e.push({name:"sysLangId",value:VrConfig.sysLangId}),e.push({name:VrConfig.csrfTokenName,value:$('meta[name="X-CSRF-TOKEN"]').attr("content")}),e}jQuery.event.special.touchstart={setup:function(e,t,a){this.addEventListener("touchstart",a,{passive:!t.includes("noPreventDefault")})}},jQuery.event.special.touchmove={setup:function(e,t,a){this.addEventListener("touchmove",a,{passive:!t.includes("noPreventDefault")})}},function(){"use strict";var e=document.querySelectorAll(".needs-validation");Array.prototype.slice.call(e).forEach(function(t){t.addEventListener("submit",function(e){t.checkValidity()||(e.preventDefault(),e.stopPropagation()),t.classList.add("was-validated")},!1)})}();var tooltipTriggerList=[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')),tooltipList=tooltipTriggerList.map(function(e){return new bootstrap.Tooltip(e)});document.addEventListener("lazybeforeunveil",function(e){var t=e.target.getAttribute("data-bg");t&&(e.target.style.backgroundImage="url("+t+")")}),$(document).ready(function(){var e={};0<$("#postDetailsPage").length&&(e={isPostPage:!0,postId:$("#postDetailsPage").attr("data-id")}),$.ajax({type:"POST",url:VrConfig.baseURL+"/Ajax/runOnPageLoad",data:setAjaxData(e),success:function(e){e=JSON.parse(e);1==e.result&&e.isPostPage&&(document.getElementById("postNextPrevContainer").innerHTML=e.htmlContent)}})}),$(document).on("click",".mobile-menu-button",function(){$("#navMobile").hasClass("nav-mobile-open")?($("#navMobile").removeClass("nav-mobile-open"),$("#overlay_bg").hide()):($("#navMobile").addClass("nav-mobile-open"),$("#overlay_bg").show())}),$(document).on("click","#overlay_bg",function(){$("#navMobile").removeClass("nav-mobile-open"),$("#overlay_bg").hide()}),$(".close-menu-click").click(function(){$("#navMobile").removeClass("nav-mobile-open"),$("#overlay_bg").hide()}),$(document).ready(function(){if($("form.needs-validation").attr("novalidate","novalidate"),$(".show-on-page-load").css("visibility","visible"),$(".nav-main .nav-item-category").hover(function(){var e=$(this).attr("data-category-id");$(".mega-menu").css("display","none"),$(".mega-menu .link-sub-category").removeClass("active"),$(".mega-menu .menu-category-items").removeClass("active"),$(".mega-menu .link-sub-category-all").addClass("active"),$(".mega-menu .menu-right .filter-all").addClass("active"),$(".mega-menu-"+e).css("display","flex")},function(){$(".mega-menu").css("display","none")}),$(".mega-menu").hover(function(){$(this).css("display","flex");var e=$(this).attr("data-category-id");$(".nav-main .nav-item-category-"+e).addClass("active")},function(){$(".mega-menu").css("display","none"),$(".nav-main .nav-item-category").removeClass("active")}),$(".mega-menu .link-sub-category").hover(function(){var e=$(this).attr("data-category-filter");$(".mega-menu .link-sub-category").removeClass("active"),$(this).addClass("active"),$(".mega-menu .menu-category-items").removeClass("active"),$(".mega-menu .menu-right .filter-"+e).addClass("active")},function(){}),$(".mobile-search-button").click(function(){$(".mobile-search-form").slideToggle(300)}),$("#main-slider").slick({autoplay:!0,autoplaySpeed:4900,slidesToShow:1,slidesToScroll:1,infinite:!0,speed:200,rtl:VrConfig.rtl,cssEase:"linear",lazyLoad:"progressive",prevArrow:$("#main-slider-nav .prev"),nextArrow:$("#main-slider-nav .next")}),$("#post-detail-slider").slick({autoplay:!1,autoplaySpeed:4900,slidesToShow:1,slidesToScroll:1,infinite:!1,speed:200,rtl:VrConfig.rtl,adaptiveHeight:!0,lazyLoad:"progressive",prevArrow:$("#post-detail-slider-nav .prev"),nextArrow:$("#post-detail-slider-nav .next")}),$(".newsticker li").delay(500).fadeIn(100),$(".newsticker").newsTicker({row_height:30,max_rows:1,speed:400,direction:"up",duration:4e3,autostart:1,pauseOnHover:0,prevButton:$("#nav_newsticker .prev"),nextButton:$("#nav_newsticker .next")}),0<VrConfig.categorySliderIds.length)for(var e=0;e<VrConfig.categorySliderIds.length;e++){var t=VrConfig.categorySliderIds[e];$("#category_slider_"+t).slick({autoplay:!0,autoplaySpeed:4900,infinite:!0,speed:200,rtl:VrConfig.rtl,cssEase:"linear",prevArrow:$("#category_slider_nav_"+t+" .prev"),nextArrow:$("#category_slider_nav_"+t+" .next"),slidesToShow:4,slidesToScroll:1,responsive:[{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:576,settings:{slidesToShow:1,slidesToScroll:1}}]})}$(window).scroll(function(){100<$(this).scrollTop()?$(".scrollup").fadeIn():$(".scrollup").fadeOut()}),$(".scrollup").click(function(){return $("html, body").animate({scrollTop:0},700),!1})}),$(".search-icon").click(function(){$(".search-form").hasClass("open")?$(".search-form").removeClass("open"):$(".search-form").addClass("open")}),$(document).ready(function(){$("#form-login").submit(function(e){e.preventDefault();e=setSerializedData(e=$(this).serializeArray());$.ajax({url:VrConfig.baseURL+"/Auth/loginPost",type:"POST",data:e,success:function(e){e=JSON.parse(e);1==e.result?location.reload():0==e.result&&(document.getElementById("result-login").innerHTML=e.error_message)}})}),$(".form-newsletter").submit(function(e){e.preventDefault();var t="#"+$(this).attr("id")+" .newsletter-input";if(""==$(t).val().trim())return $(t).addClass("is-invalid"),!1;$(t).removeClass("is-invalid");e=setSerializedData(e=$(this).serializeArray());$.ajax({type:"POST",url:VrConfig.baseURL+"/add-newsletter-post",data:e,success:function(e){e=JSON.parse(e);1==e.result&&(e.isSuccess?(Swal.fire({text:e.message,icon:"success",confirmButtonText:VrConfig.textOk}),$(t).val("")):Swal.fire({text:e.message,icon:"warning",confirmButtonText:VrConfig.textOk}))}})})});var pageNumLoadMorePosts=1;function loadMorePosts(e,t){t={lang_id:e,page:++pageNumLoadMorePosts,type:t,view:"_post_item",q:getUrlParameter("q")};$(".btn-load-more").prop("disabled",!0),$(".btn-load-more svg").hide(),$(".btn-load-more .spinner-load-more").show(),$.ajax({type:"POST",url:VrConfig.baseURL+"/Ajax/loadMorePosts",data:setAjaxData(t),success:function(e){var t=JSON.parse(e);1==t.result?setTimeout(function(){$("#postsLoadMoreContent").append(t.htmlContent),$(".btn-load-more").prop("disabled",!1),$(".btn-load-more svg").show(),$(".btn-load-more .spinner-load-more").hide(),t.hasMore||$(".btn-load-more").hide()},200):setTimeout(function(){$(".btn-load-more").hide(),$(".btn-load-more svg").show(),$(".btn-load-more .spinner-load-more").hide()},200)}})}function getUrlParameter(e){var t=window.location.search;const a=new URLSearchParams(t);return a.get(e)}function viewPollResults(e){$("#poll_"+e+" .question").hide(),$("#poll_"+e+" .result").show()}function viewPollOptions(e){$("#poll_"+e+" .result").hide(),$("#poll_"+e+" .question").show()}let reactionAjaxRequest=!1;function addReaction(e,t){if(reactionAjaxRequest)return!1;reactionAjaxRequest=!0;t={post_id:e,reaction:t};$.ajax({type:"POST",url:VrConfig.baseURL+"/Ajax/addReaction",data:setAjaxData(t),success:function(e){e=JSON.parse(e);1==e.result&&(document.getElementById("reactions_result").innerHTML=e.htmlContent)},complete:function(){reactionAjaxRequest=!1}})}function loadMoreComments(e){var a=parseInt($("#post_comment_limit").val()),e={post_id:e,limit:a};$.ajax({type:"POST",url:VrConfig.baseURL+"/Ajax/loadMoreComments",data:setAjaxData(e),success:function(e){var t=JSON.parse(e);1==t.result&&setTimeout(function(){$("#post_comment_limit").val(a+5),document.getElementById("comment-result").innerHTML=t.htmlContent},500)}})}function addRemoveReadingListItem(e){$(".tooltip").hide();e={post_id:e};$.ajax({type:"POST",url:VrConfig.baseURL+"/Ajax/addRemoveReadingListItem",data:setAjaxData(e),success:function(e){location.reload()}})}function deleteComment(t,a,e){Swal.fire({text:e,icon:"warning",showCancelButton:!0,confirmButtonText:VrConfig.textYes,cancelButtonText:VrConfig.textCancel}).then(e=>{e.isConfirmed&&(e=parseInt($("#post_comment_limit").val()),e={id:t,post_id:a,limit:e},$.ajax({type:"POST",url:VrConfig.baseURL+"/Ajax/deleteCommentPost",data:setAjaxData(e),success:function(e){e=JSON.parse(e);1==e.result&&(document.getElementById("comment-result").innerHTML=e.htmlContent)}}))})}function closeCookiesWarning(){$(".cookies-warning").hide(),$.ajax({type:"POST",url:VrConfig.baseURL+"/close-cookies-warning-post",data:setAjaxData({}),success:function(e){}})}function showImagePreview(e,t){var a,n=$(e).attr("data-img-id");e.files&&e.files[0]&&((a=new FileReader).onload=function(e){t?$("#"+n).css("background-image","url("+e.target.result+")"):$("#"+n).attr("src",e.target.result)},a.readAsDataURL(e.files[0]))}$(document).ready(function(){$(".poll-form").submit(function(e){e.preventDefault();var t=$(this).attr("data-form-id"),e=setSerializedData(e=$(this).serializeArray());$.ajax({url:VrConfig.baseURL+"/Ajax/addPollVote",type:"POST",data:e,success:function(e){e=JSON.parse(e);1==e.result&&("required"==e.htmlContent?($("#poll-required-message-"+t).show(),$("#poll-error-message-"+t).hide()):"voted"==e.htmlContent?($("#poll-required-message-"+t).hide(),$("#poll-error-message-"+t).show()):(document.getElementById("poll-results-"+t).innerHTML=e.htmlContent,$("#poll_"+t+" .result").show(),$("#poll_"+t+" .question").hide()))}})}),$("#add_comment").submit(function(e){e.preventDefault();var e=$(this).serializeArray(),a={},n=!0;$(e).each(function(e,t){$.trim(t.value).length<1?($("#add_comment [name='"+t.name+"']").addClass("is-invalid"),n=!1):($("#add_comment [name='"+t.name+"']").removeClass("is-invalid"),a[t.name]=t.value)}),a.limit=$("#post_comment_limit").val(),1==VrConfig.isRecaptchaEnabled&&(void 0===a["g-recaptcha-response"]?($(".g-recaptcha").addClass("is-recaptcha-invalid"),n=!1):$(".g-recaptcha").removeClass("is-recaptcha-invalid")),1==n&&($(".g-recaptcha").removeClass("is-recaptcha-invalid"),$.ajax({type:"POST",url:VrConfig.baseURL+"/Ajax/addCommentPost",data:setAjaxData(a),success:function(e){e=JSON.parse(e);"message"==e.type?document.getElementById("message-comment-result").innerHTML=e.htmlContent:document.getElementById("comment-result").innerHTML=e.htmlContent,1==VrConfig.isRecaptchaEnabled&&grecaptcha.reset(),$("#add_comment")[0].reset()}}))}),$("#add_comment_registered").submit(function(e){e.preventDefault();var e=$(this).serializeArray(),a={limit:$("#post_comment_limit").val()},n=!0;$(e).each(function(e,t){$.trim(t.value).length<1?($("#add_comment_registered [name='"+t.name+"']").addClass("is-invalid"),n=!1):($("#add_comment_registered [name='"+t.name+"']").removeClass("is-invalid"),a[t.name]=t.value)}),a.limit=$("#post_comment_limit").val(),1==n&&$.ajax({type:"POST",url:VrConfig.baseURL+"/Ajax/addCommentPost",data:setAjaxData(a),success:function(e){e=JSON.parse(e);"message"==e.type?document.getElementById("message-comment-result").innerHTML=e.htmlContent:document.getElementById("comment-result").innerHTML=e.htmlContent,$("#add_comment_registered")[0].reset()}})})}),$(document).on("click",".btn-subcomment",function(){var t=$(this).attr("data-comment-id"),n={};n.limit=$("#post_comment_limit").val();var o="#add_subcomment_"+t;$(o).ajaxSubmit({beforeSubmit:function(){var e=$("#add_subcomment_"+t).serializeArray(),a=!0;if($(e).each(function(e,t){$.trim(t.value).length<1?($(o+" [name='"+t.name+"']").addClass("is-invalid"),a=!1):($(o+" [name='"+t.name+"']").removeClass("is-invalid"),n[t.name]=t.value)}),1==VrConfig.isRecaptchaEnabled&&(void 0===n["g-recaptcha-response"]?($(o+" .g-recaptcha").addClass("is-recaptcha-invalid"),a=!1):$(o+" .g-recaptcha").removeClass("is-recaptcha-invalid")),0==a)return!1},type:"POST",url:VrConfig.baseURL+"/Ajax/addCommentPost",data:setAjaxData(n),success:function(e){1==VrConfig.isRecaptchaEnabled&&grecaptcha.reset();e=JSON.parse(e);"message"==e.type?document.getElementById("message-subcomment-result-"+t).innerHTML=e.htmlContent:document.getElementById("comment-result").innerHTML=e.htmlContent,$(".visible-sub-comment form").empty()}})}),$(document).on("click",".btn-subcomment-registered",function(){var t=$(this).attr("data-comment-id");$("#add_subcomment_registered_"+t).ajaxSubmit({beforeSubmit:function(){var e=$("#add_subcomment_registered_"+t).serializeArray();if($.trim(e[0].value).length<1)return $(".form-comment-text").addClass("is-invalid"),!1;$(".form-comment-text").removeClass("is-invalid")},type:"POST",url:VrConfig.baseURL+"/Ajax/addCommentPost",data:setAjaxData({}),success:function(e){e=JSON.parse(e);"message"==e.type?document.getElementById("message-subcomment-result-"+t).innerHTML=e.htmlContent:document.getElementById("comment-result").innerHTML=e.htmlContent,$(".visible-sub-comment form").empty()}})}),$(document).on("click",".comment-meta .btn-reply",function(){$(".comment-meta .btn-reply").prop("disabled",!0);var e,t=$(this).attr("data-parent");0<$("#sub_comment_form_"+t).html().length?($("#sub_comment_form_"+t).empty(),$(".comment-meta .btn-reply").prop("disabled",!1)):($(".visible-sub-comment").empty(),e=parseInt($("#post_comment_limit").val()),e={comment_id:t,limit:e},$.ajax({type:"POST",url:VrConfig.baseURL+"/Ajax/loadSubcommentBox",data:setAjaxData(e),success:function(e){e=JSON.parse(e);1==e.result&&$("#sub_comment_form_"+t).append(e.htmlContent),$(".comment-meta .btn-reply").prop("disabled",!1)}}))}),$(document).on("click",".btn-comment-like",function(){$(this).hasClass("comment-liked")?$(this).removeClass("comment-liked"):$(this).addClass("comment-liked");var t=$(this).attr("data-comment-id"),e={comment_id:t};$.ajax({type:"POST",url:VrConfig.baseURL+"/Ajax/likeCommentPost",data:setAjaxData(e),success:function(e){e=JSON.parse(e);1==e.result&&(document.getElementById("lbl_comment_like_count_"+t).innerHTML=e.likeCount)}})}),$(document).on("click",".btn-load-more",function(){$(".btn-load-more svg").hide(),$(".btn-load-more .spinner-load-more").show()}),$(document).on("click",".table-of-contents .ul-main li a",function(e){var t;""!==this.hash&&(e.preventDefault(),t=this.hash,$("html, body").animate({scrollTop:$(t).offset().top},500,function(){window.location.hash=t}))}),$("#print_post").on("click",function(){$(".post-content .post-title, .post-content .post-image, .post-content .post-text").printThis({importCSS:!0})}),$(document).ajaxStop(function(){});